# üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets –¥–ª—è BookHunter

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Google Sheets –∏ –ø–æ–ª—É—á–µ–Ω–∏—é credentials.json.

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console
2. –í–∫–ª—é—á–∏—Ç—å Google Sheets API
3. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
4. –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á (credentials.json)
5. –°–æ–∑–¥–∞—Ç—å Google —Ç–∞–±–ª–∏—Ü—É
6. –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü–µ–π —Å —Å–µ—Ä–≤–∏—Å–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º

---

## üöÄ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google Cloud Console](https://console.cloud.google.com/)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π Google –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–∂–º–∏—Ç–µ **"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç"** ‚Üí **"–ù–û–í–´–ô –ü–†–û–ï–ö–¢"**
4. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø—Ä–æ–µ–∫—Ç–∞: `BookHunter`
5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**

### –®–∞–≥ 2: –í–∫–ª—é—á–∏—Ç–µ Google Sheets API

1. –í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"API –∏ —Å–µ—Ä–≤–∏—Å—ã"** ‚Üí **"–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞"**
2. –í –ø–æ–∏—Å–∫–µ –≤–≤–µ–¥–∏—Ç–µ: `Google Sheets API`
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **"Google Sheets API"**
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–í–∫–ª—é—á–∏—Ç—å"**

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç

1. –í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"API –∏ —Å–µ—Ä–≤–∏—Å—ã"** ‚Üí **"–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"**
2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"** ‚Üí **"–°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - –ò–º—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞: `bookhunter-service`
   - –û–ø–∏—Å–∞–Ω–∏–µ: `Service account for BookHunter`
   - –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å"**
4. –†–æ–ª—å: **"–†–µ–¥–∞–∫—Ç–æ—Ä"** (–∏–ª–∏ "Basic" ‚Üí "Editor")
5. –ù–∞–∂–º–∏—Ç–µ **"–ì–æ—Ç–æ–≤–æ"**

### –®–∞–≥ 4: –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á (credentials.json)

1. –í —Å–ø–∏—Å–∫–µ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π (`books-tracker-service`)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ö–ª—é—á–∏"**
3. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á"** ‚Üí **"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á"**
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–ª—é—á–∞: **JSON**
5. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"**
6. –§–∞–π–ª `credentials.json` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª! –û–Ω –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è.

### –®–∞–≥ 5: –°–æ–∑–¥–∞–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—É

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google Sheets](https://sheets.google.com/)
2. –ù–∞–∂–º–∏—Ç–µ **"–ü—É—Å—Ç–æ–π"** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã
3. –ù–∞–∑–æ–≤–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É: `BookHunter - –°–∫–∏–¥–∫–∏`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID —Ç–∞–±–ª–∏—Ü—ã –∏–∑ URL:
   ```
   https://docs.google.com/spreadsheets/d/1Ti418MqA5wy2jZkVkwibvDT8fgtszGxUQzHFmkhnkZc/edit
                                                   ‚Üë
                                                   –≠—Ç–æ ID
   ```

### –®–∞–≥ 6: –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ç–∞–±–ª–∏—Ü–µ–π —Å —Å–µ—Ä–≤–∏—Å–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º

1. –í –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è —Ç–∞–±–ª–∏—Ü–µ –Ω–∞–∂–º–∏—Ç–µ **"–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"**
2. –í –ø–æ–ª–µ "–î–æ–±–∞–≤—å—Ç–µ –ª—é–¥–µ–π –∏ –≥—Ä—É–ø–ø—ã" –≤—Å—Ç–∞–≤—å—Ç–µ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:
   ```
   books-tracker-service@–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.iam.gserviceaccount.com
   ```
   *(Email –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ Google Cloud Console ‚Üí IAM –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã)*

3. –í –ø–æ–ª–µ "–†–µ–¥–∞–∫—Ç–æ—Ä" –≤—ã–±–µ—Ä–∏—Ç–µ **"–†–µ–¥–∞–∫—Ç–æ—Ä"**
4. –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–ø—Ä–∞–≤–∏—Ç—å"**

### –®–∞–≥ 7: –î–æ–±–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ `.env`

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```env
# ID –≤–∞—à–µ–π Google —Ç–∞–±–ª–∏—Ü—ã
GOOGLE_SHEET_ID=1Ti418MqA5wy2jZkVkwibvDT8fgtszGxUQzHFmkhnkZc

# –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É credentials.json
GOOGLE_SHEETS_CREDENTIALS_PATH=credentials.json
```

### –®–∞–≥ 8: –†–∞–∑–º–µ—Å—Ç–∏—Ç–µ `credentials.json` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /var/www/bookhunter
nano credentials.json
```

–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫–∞—á–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ `credentials.json`.

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `credentials.json` –ù–ï –≤ Git!

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `credentials.json`

–û–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–µ:

```json
{
  "type": "service_account",
  "project_id": "–≤–∞—à-–ø—Ä–æ–µ–∫—Ç",
  "private_key_id": "...",
  "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
  "client_email": "books-tracker-service@–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.iam.gserviceaccount.com",
  "client_id": "...",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/books-tracker-service@–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.iam.gserviceaccount.com"
}
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ Google —Ç–∞–±–ª–∏—Ü—É
2. –ù–∞–∂–º–∏—Ç–µ **"–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ —Å —Ä–æ–ª—å—é "–†–µ–¥–∞–∫—Ç–æ—Ä"

---

## üîß –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û—à–∏–±–∫–∞: `ApiRequestError: 403`

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ `credentials.json`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ email –¥–æ–±–∞–≤–ª–µ–Ω –≤ "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" —Ç–∞–±–ª–∏—Ü—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–ª—å (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å "–†–µ–¥–∞–∫—Ç–æ—Ä")

### –û—à–∏–±–∫–∞: `FileNotFoundError: credentials.json`

**–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `credentials.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –≤ `.env`: `GOOGLE_SHEETS_CREDENTIALS_PATH=credentials.json`

### –û—à–∏–±–∫–∞: `InvalidGrantError`

**–ü—Ä–∏—á–∏–Ω–∞:** –ö–ª—é—á –æ—Ç–æ–∑–≤–∞–Ω –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–ª—é—á –≤ Google Cloud Console
2. –û–±–Ω–æ–≤–∏—Ç–µ `credentials.json`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google —Ç–∞–±–ª–∏—Ü—ã

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ª–∏—Å—Ç—ã:

### –õ–∏—Å—Ç 1: `books`
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–Ω–∏–≥ —Å —Å–∫–∏–¥–∫–∞–º–∏

### –õ–∏—Å—Ç 2: `alerts`
- –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –õ–∏—Å—Ç 3: `notifications`
- –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –õ–∏—Å—Ç 4: `stats`
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

---

## üö® –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù–ò–ö–û–ì–î–ê –ù–ï:

- ‚ùå –ö–æ–º–º–∏—Ç–∏—Ç—å `credentials.json` –≤ Git
- ‚ùå –î–µ–ª–∏—Ç—å—Å—è `credentials.json` –ø—É–±–ª–∏—á–Ω–æ
- ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–ª—é—á –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –í–°–ï–ì–î–ê:

- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å `credentials.json` –≤ `.gitignore`
- ‚úÖ –•—Ä–∞–Ω–∏—Ç—å `credentials.json` —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Google Cloud Console](https://console.cloud.google.com/)
- [Google Sheets API](https://developers.google.com/sheets/api)
- [Google Sheets](https://sheets.google.com/)

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ Google Sheets!

---

**–°–æ–∑–¥–∞–Ω–æ –¥–ª—è BookHunter** üìö‚ù§Ô∏è
