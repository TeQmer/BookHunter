# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø–æ –¥–µ–ø–ª–æ—é BookHunter —á–µ—Ä–µ–∑ CI/CD

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. –í—ã –ø—É—à–∏—Ç–µ –∫–æ–¥ –≤ GitHub
2. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞ 2-5 –º–∏–Ω—É—Ç

---

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH (1 –º–∏–Ω—É—Ç–∞)

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞
ssh-keygen -t rsa -b 4096 -C "github-actions" -f ~/.ssh/github_actions_key

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id -i ~/.ssh/github_actions_key.pub user@your-server-ip
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Secrets –≤ GitHub (2 –º–∏–Ω—É—Ç—ã)

–ü–µ—Ä–µ–π–¥–∏—Ç–µ: `Repository ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions`

–î–æ–±–∞–≤—å—Ç–µ:
- `SSH_PRIVATE_KEY` ‚Äî —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `~/.ssh/github_actions_key`
- `SERVER_HOST` ‚Äî IP —Å–µ—Ä–≤–µ—Ä–∞: `192.168.1.100`
- `SERVER_USER` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `root` –∏–ª–∏ `ubuntu`
- `DOMAIN` ‚Äî –¥–æ–º–µ–Ω: `https://bookhunter.ru`

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π (0 –º–∏–Ω—É—Ç)

```bash
git add .
git commit -m "feat: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è"
git push origin main
```

‚úÖ –ì–æ—Ç–æ–≤–æ! –î–µ–ø–ª–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π!

---

## üîÑ –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–æ–µ–∫—Ç

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ:

```bash
# 1. –°–¥–µ–ª–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
# 2. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ
git add .
git commit -m "feat: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push origin main

# 3. –ì–æ—Ç–æ–≤–æ! GitHub Actions –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Actions` –≤ GitHub
2. –ù–∞–∂–º–∏—Ç–µ `Deploy BookHunter to Server`
3. –ù–∞–∂–º–∏—Ç–µ `Run workflow`

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Actions` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫
3. üü¢ –ó–µ–ª–µ–Ω—ã–π ‚Äî —É—Å–ø–µ—à–Ω–æ
4. üî¥ –ö—Ä–∞—Å–Ω—ã–π ‚Äî –æ—à–∏–±–∫–∞ (–∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤)

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –î–µ–ø–ª–æ–π –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Secrets –≤ GitHub
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: `ssh -i ~/.ssh/github_actions_key user@server`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞: `chmod 600 ~/.ssh/github_actions_key`

### –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π:

1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫—Ä–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ Actions
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–∫–∏
3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É: `ssh user@server`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `cd BookHunter && docker compose logs app`

### –û—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é:

```bash
git revert HEAD
git push origin main
```

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç

- [ ] SSH –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] Secrets –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitHub
- [ ] –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –¥–µ–ø–ª–æ—è —É—Å–ø–µ—à–Ω–∞
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] Telegram Bot —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –¥–µ–ø–ª–æ—è
# GitHub ‚Üí Actions ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–ø—É—Å–∫ ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏

# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è
# GitHub ‚Üí Actions ‚Üí Deploy BookHunter ‚Üí Run workflow

# –û—Ç–∫–∞—Ç –≤–µ—Ä—Å–∏–∏
git revert HEAD
git push origin main

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh user@server "cd BookHunter && docker compose ps"
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìñ [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è CI/CD](CI_CD_GUIDE.md)
- üìñ [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é](DEPLOY_TO_SERVER.md)
- üí¨ Telegram: @your_bot

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤–∞—à–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä!** üöÄ
